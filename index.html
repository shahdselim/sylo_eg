<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sylo - Premium Apple Watch Bands</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    /* Smooth scrolling for anchor links */
    html {
      scroll-behavior: smooth;
    }

    /* Product card hover effect for elegance */
    .product-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    }

    /* Modal animation */
    #product-modal {
      transition: opacity 0.3s ease;
    }

    #product-modal.show {
      opacity: 1;
    }

    /* Button hover effects */
    button, a.bg-black {
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    a#shop-now-btn:hover {
        background-color: #374151; /* A darker gray for hover */
        transform: scale(1.05);
    }

    /* Ensure images are responsive */
    img {
      max-width: 100%;
      height: auto;
    }

    /* Add spacing for sections */
    section {
      padding-top: 5rem; /* Default padding for sections */
      padding-bottom: 5rem;
    }

    /* Adjust padding for navbar height */
    body {
        padding-top: 72px; /* Height of the fixed navbar (py-4 on nav + border/shadow) */
    }
    #home {
        padding-top: 0; /* Home section specific adjustment if needed, or keep default */
        min-height: calc(100vh - 72px); /* Adjust min-height considering navbar */
    }

    /* Animations for hero section */
    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .animate-fade-in-down {
      animation: fadeInDown 1s ease-out;
    }

    .animate-fade-in-up {
      animation: fadeInUp 1.2s ease-out;
    }

    .animate-fade-in {
      animation: fadeIn 1.5s ease-out;
    }

    /* Ensure body allows footer to be pushed down */
    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    footer {
      margin-top: auto;
    }

    /* Custom message box for alerts */
    .custom-alert-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000; /* Ensure it's above other content */
    }
    .custom-alert-box {
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        text-align: center;
        max-width: 90%;
        width: 300px;
    }
    .custom-alert-box p {
        margin-bottom: 15px;
        color: #333;
    }
    .custom-alert-box button {
        background-color: #000;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }
    .custom-alert-box button:hover {
        background-color: #333;
    }

    /* --- Styles for Slide Menus and Overlays --- */
    /* Left Slide Menu (for navigation and product categories) */
    .left-slide-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        overflow: hidden;
        transition: background-color 0.5s ease;
        z-index: 900; /* Below modal, above content */
        visibility: hidden; /* Hidden by default */
        opacity: 0;
    }
    .left-slide-overlay.open {
        visibility: visible;
        opacity: 1;
    }

    .left-slide-content {
        position: fixed;
        top: 0;
        left: -300px; /* Start off-screen */
        width: 280px; /* Width of the sidebar */
        height: 100%;
        background-color: #fff;
        padding: 20px;
        box-shadow: 5px 0 15px rgba(0,0,0,0.2);
        transition: left 0.5s ease-in-out;
        display: flex;
        flex-direction: column;
        z-index: 901; /* Above overlay */
    }
    .left-slide-overlay.open .left-slide-content {
        left: 0; /* Slide in */
    }

    /* Right Slide Overlays (for Search and Cart) */
    .right-slide-overlay {
        position: fixed;
        top: 0;
        right: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        overflow: hidden;
        transition: background-color 0.5s ease;
        z-index: 900;
        visibility: hidden;
        opacity: 0;
    }
    .right-slide-overlay.open {
        visibility: visible;
        opacity: 1;
    }

    .right-slide-content {
        position: fixed;
        top: 0;
        right: -300px; /* Start off-screen */
        width: 280px; /* Width of the sidebar */
        height: 100%;
        background-color: #fff;
        padding: 20px;
        box-shadow: -5px 0 15px rgba(0,0,0,0.2);
        transition: right 0.5s ease-in-out;
        display: flex;
        flex-direction: column;
        z-index: 901;
    }
    .right-slide-overlay.open .right-slide-content {
        right: 0; /* Slide in */
    }

    .slide-close-btn {
        position: absolute;
        top: 10px;
        right: 20px;
        font-size: 30px;
        cursor: pointer;
        color: #333;
    }

    /* Product grid for responsive layout */
    .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
    }
    @media (min-width: 640px) {
        .product-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }
    @media (min-width: 768px) {
        .product-grid {
            grid-template-columns: repeat(3, 1fr);
        }
    }
    @media (min-width: 1024px) {
        .product-grid {
            grid-template-columns: repeat(4, 1fr);
        }
    }
    @media (min-width: 1280px) {
        .product-grid {
            grid-template-columns: repeat(5, 1fr); /* 5 products per row on large screens */
        }
    }

    /* Styles for Sign Up/Login Modal */
    #signup-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 950; /* Between overlays and product modal */
        visibility: hidden;
        opacity: 0;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    #signup-modal.open {
        visibility: visible;
        opacity: 1;
    }
    #signup-modal .modal-content {
        background-color: #fff;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        max-width: 500px;
        width: 90%;
        position: relative;
        transform: translateY(20px);
        transition: transform 0.3s ease;
    }
    #signup-modal.open .modal-content {
        transform: translateY(0);
    }

    /* Styles for Products dropdown in left menu */
    .products-dropdown-menu {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
    }
    .products-dropdown-menu.active {
        max-height: 200px; /* Adjust as needed for content */
    }
  </style>
</head>
<body class="bg-white font-['Montserrat'] flex flex-col min-h-screen">
  <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-4">
        <button id="hamburger-menu-toggle" class="text-black hover:text-gray-600 focus:outline-none">
            <i class="fas fa-bars text-xl"></i>
        </button>
        <a href="#home" class="text-3xl font-bold text-black" id="sylo-logo">Sylo</a>
      </div>

      <div class="flex items-center space-x-4">
        <button id="search-icon" class="text-black hover:text-gray-600 focus:outline-none">
            <i class="fas fa-search text-xl"></i>
        </button>
        <button id="cart-icon" class="text-black hover:text-gray-600 focus:outline-none relative">
            <i class="fas fa-shopping-cart text-xl"></i>
            <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
        </button>
        <button id="signup-button-nav" class="bg-black text-white px-5 py-2 rounded-full font-bold text-sm hover:bg-gray-800 transition-colors duration-300">
            Sign Up
        </button>
      </div>
    </div>
  </nav>

  <div id="left-slide-menu-overlay" class="left-slide-overlay">
      <div class="left-slide-content">
          <span class="slide-close-btn" id="close-left-menu">&times;</span>
          <nav class="flex flex-col space-y-4 pt-6">
              <button id="products-menu-toggle-in-slide" class="flex items-center justify-between w-full px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md font-bold focus:outline-none">
                  <span>Products</span>
                  <i class="fas fa-chevron-down text-xs ml-1 transition-transform duration-300 transform"></i>
              </button>
              <div id="products-dropdown-in-slide" class="products-dropdown-menu pl-4 border-l border-gray-200 ml-2 space-y-2">
                  <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md product-category-link" data-category="stainless-steel">Stainless Steel</a>
                  <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md product-category-link" data-category="stretchable-woven-nylon">Stretchable Woven Nylon</a>
                  <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md product-category-link" data-category="silicon">Silicon</a>
                  <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md product-category-link" data-category="leather">Leather</a>
              </div>

              <a href="#about" class="px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md nav-link">About Us</a>
              <a href="#contact" class="px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md nav-link">Contact Us</a>
              <a href="#policy" class="px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md nav-link">Policy</a>
              <a href="#support" class="px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md nav-link">Support</a>
          </nav>
      </div>
  </div>

  <div id="search-overlay" class="right-slide-overlay">
      <div class="right-slide-content ml-auto">
          <span class="slide-close-btn" id="close-search-overlay">&times;</span>
          <h2 class="text-2xl font-semibold mb-4 text-black">Search Products</h2>
          <div class="relative">
              <input type="text" id="overlay-search-bar" placeholder="Search..." class="w-full p-3 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
              <i class="fas fa-search absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
          </div>
          <p class="text-sm text-gray-500 mt-2">Type to find your desired products.</p>
      </div>
  </div>

  <div id="cart-overlay" class="right-slide-overlay">
      <div class="right-slide-content ml-auto">
          <span class="slide-close-btn" id="close-cart-overlay">&times;</span>
          <h2 class="text-2xl font-semibold mb-4 text-black">Your Shopping Cart</h2>
          <div id="cart-items-overlay" class="flex-grow overflow-y-auto border-t border-b border-gray-200 py-4 mb-4">
              <p class="text-gray-500 text-center" id="empty-cart-message">Your cart is empty.</p>
          </div>
          <div class="flex justify-between items-center mb-4">
              <span class="text-lg font-semibold">Total:</span>
              <span id="cart-total-overlay" class="text-xl font-bold text-black">$0.00</span>
          </div>
          <button id="proceed-to-checkout-overlay-btn" class="w-full bg-black text-white py-3 rounded-md hover:bg-gray-800 transition-colors duration-300">Proceed to Checkout</button>
      </div>
  </div>


  <section id="home" class="min-h-screen flex items-center justify-center bg-white text-black py-20">
    <div class="container mx-auto px-4 text-center z-10">
      <h2 class="text-6xl md:text-7xl font-extrabold mb-6 animate-fade-in-down">Elevate Your Apple Watch Style</h2>
      <p class="text-xl md:text-2xl text-gray-700 mb-10 max-w-2xl mx-auto animate-fade-in-up">Discover premium bands crafted for elegance, comfort, and durability. Express yourself with Sylo.</p>
      <a href="#products" id="shop-now-btn" class="bg-black text-white px-10 py-4 rounded-full font-bold text-lg hover:bg-gray-800 transition-all duration-300 transform hover:scale-105 shadow-lg animate-fade-in">Shop All</a>
    </div>
  </section>

  <section id="products" class="container mx-auto py-16 hidden">
    <h2 id="product-category-title" class="text-3xl font-bold text-black text-center mb-10">Our Collection</h2>
    <div id="product-list" class="product-grid">
      </div>
    <p id="no-products-found" class="text-center text-gray-600 mt-8 hidden">No products match your search.</p>
  </section>

  <section id="about" class="container mx-auto py-16 hidden">
    <h2 class="text-3xl font-bold text-black text-center mb-10">About Us</h2>
    <div class="max-w-2xl mx-auto text-center">
      <p class="text-lg text-gray-700 mb-4">
        At Sylo, we redefine wearable elegance with our premium Apple Watch bands. Each band is designed with precision to blend style and functionality seamlessly.
      </p>
      <p class="text-lg text-gray-700">
        Founded in 2025 in Egypt, Sylo is committed to quality and innovation. Our bands are crafted to reflect your unique personality, making every moment timeless.
      </p>
    </div>
  </section>

  <section id="contact" class="container mx-auto py-16 hidden">
    <h2 class="text-3xl font-bold text-black text-center mb-10">Contact Us</h2>
    <div class="max-w-lg mx-auto">
      <form id="contact-form" action="https://formspree.io/f/xdkgrjqv" method="POST" class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-black mb-2" for="contact-name">Name</label>
          <input type="text" id="contact-name" name="name" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black focus:border-transparent" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-black mb-2" for="contact-email">Email</label>
          <input type="email" id="contact-email" name="email" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black focus:border-transparent" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-black mb-2" for="contact-message">Message</label>
          <textarea id="contact-message" name="message" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black focus:border-transparent" rows="5" required></textarea>
        </div>
        <button type="submit" class="bg-black text-white px-6 py-3 rounded-full hover:bg-gray-800 transition">Send Message</button>
      </form>
      </div>
  </section>

  <section id="policy" class="container mx-auto py-16 hidden">
      <h2 class="text-3xl font-bold text-black text-center mb-10">Our Policy</h2>
      <div class="max-w-2xl mx-auto text-gray-700 space-y-4">
          <p>Welcome to Sylo's Policy page. Here you'll find important information regarding our shipping, returns, and privacy practices.</p>
          <h3 class="text-xl font-semibold text-black mt-6">Shipping Information</h3>
          <p>We offer reliable shipping services across Egypt. Shipping fees vary based on your city and will be calculated at checkout. Orders are typically processed within 1-2 business days and delivered within 3-7 business days depending on your location.</p>
          <h3 class="text-xl font-semibold text-black mt-6">Return Policy</h3>
          <p>Customer satisfaction is our priority. If you are not completely satisfied with your purchase, you may return the item within 14 days of delivery for a full refund or exchange. Items must be in their original condition and packaging. Please contact our support team to initiate a return.</p>
          <h3 class="text-xl font-semibold text-black mt-6">Privacy Policy</h3>
          <p>We are committed to protecting your privacy. Any personal information collected during your visit and purchase will be used solely for order processing and to enhance your shopping experience. We do not share your information with third parties.</p>
      </div>
  </section>

  <section id="support" class="container mx-auto py-16 hidden">
      <h2 class="text-3xl font-bold text-black text-center mb-10">Customer Support</h2>
      <p class="text-center text-gray-700 mb-8">Have a complaint or a customization request? Let us know!</p>
      <form id="support-form" class="max-w-md mx-auto">
          <div class="mb-4">
              <label for="support-name" class="block text-gray-700 text-sm font-bold mb-2">Your Name:</label>
              <input type="text" id="support-name" name="name" class="shadow appearance-none border rounded-md w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-black" placeholder="Your Name" required>
          </div>
          <div class="mb-4">
              <label for="support-email" class="block text-gray-700 text-sm font-bold mb-2">Your Email:</label>
              <input type="email" id="support-email" name="email" class="shadow appearance-none border rounded-md w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-black" placeholder="your@example.com" required>
          </div>
          <div class="mb-6">
              <label for="support-message" class="block text-gray-700 text-sm font-bold mb-2">Message:</label>
              <textarea id="support-message" name="message" rows="5" class="shadow appearance-none border rounded-md w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-black" placeholder="Describe your complaint or customization request..." required></textarea>
          </div>
          <div class="flex items-center justify-center">
              <button type="submit" class="bg-black hover:bg-gray-800 text-white font-bold py-3 px-6 rounded-full focus:outline-none focus:shadow-outline transition-colors duration-300">
                  Submit Request
              </button>
          </div>
      </form>
  </section>

  <div id="product-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4">
    <div class="bg-white p-6 md:p-8 rounded-lg max-w-lg w-full shadow-xl">
      <div class="flex justify-between items-center mb-4">
        <h2 id="modal-title" class="text-2xl font-bold text-black"></h2>
        <button id="close-modal-top" class="text-gray-500 hover:text-black text-2xl">&times;</button>
      </div>
      <img id="modal-image" class="w-full h-64 object-cover mb-4 rounded" alt="Product Image" onerror="this.onerror=null;this.src='https://placehold.co/600x400/E2E8F0/AAAAAA?text=Image+Not+Available';">
      <p id="modal-price" class="text-lg font-semibold text-black mb-4"></p>
      <p id="modal-description" class="text-gray-700 mb-4"></p>
      <div class="mb-4">
        <label class="block text-sm font-medium text-black mb-2" for="modal-size">Select Size:</label>
        <select id="modal-size" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black focus:border-transparent">
          <option value="38mm">38mm</option>
          <option value="40mm">40mm</option>
          <option value="42mm">42mm</option>
          <option value="44mm">44mm</option>
          <option value="45mm">45mm</option>
        </select>
      </div>
      <div class="flex justify-end space-x-4">
        <button id="close-modal-bottom" class="text-gray-600 hover:text-black px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-100 transition">Close</button>
        <button id="add-to-cart" class="bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition">Add to Cart</button>
      </div>
    </div>
  </div>

  <div id="signup-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4">
    <div class="modal-content bg-white p-6 md:p-8 rounded-lg max-w-lg w-full shadow-xl">
      <div class="flex justify-between items-center mb-4">
        <h2 id="signup-modal-title" class="text-2xl font-bold text-black">Join Our Community!</h2>
        <button id="close-signup-modal" class="text-gray-500 hover:text-black text-2xl">&times;</button>
      </div>

      <div id="signup-form-container">
        <p class="text-center text-gray-700 mb-8">Sign up to get exclusive offers, new product updates, and more.</p>
        <form id="signup-form" class="space-y-4">
            <div>
                <label for="signup-name" class="block text-gray-700 text-sm font-bold mb-2">Name:</label>
                <input type="text" id="signup-name" name="name" class="shadow appearance-none border rounded-md w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-black" placeholder="Your Name" required>
            </div>
            <div>
                <label for="signup-email" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                <input type="email" id="signup-email" name="email" class="shadow appearance-none border rounded-md w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-black" placeholder="your@example.com" required>
            </div>
            <div>
                <label for="signup-password" class="block text-gray-700 text-sm font-bold mb-2">Password:</label>
                <input type="password" id="signup-password" name="password" class="shadow appearance-none border rounded-md w-full py-3 px-4 text-gray-700 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-black" placeholder="********" required>
            </div>
            <div class="flex items-center justify-center">
                <button type="submit" class="bg-black hover:bg-gray-800 text-white font-bold py-3 px-6 rounded-full focus:outline-none focus:shadow-outline transition-colors duration-300">
                    Sign Up
                </button>
            </div>
            <p class="text-center text-gray-600 text-sm mt-4">Already have an account? <a href="#" id="show-login-link" class="text-black hover:underline font-semibold">Login here</a></p>
        </form>
      </div>

      <div id="login-form-container" class="hidden">
        <p class="text-center text-gray-700 mb-8">Welcome back! Please login to your account.</p>
        <form id="login-form" class="space-y-4">
            <div>
                <label for="login-email" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                <input type="email" id="login-email" name="email" class="shadow appearance-none border rounded-md w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-black" placeholder="your@example.com" required>
            </div>
            <div>
                <label for="login-password" class="block text-gray-700 text-sm font-bold mb-2">Password:</label>
                <input type="password" id="login-password" name="password" class="shadow appearance-none border rounded-md w-full py-3 px-4 text-gray-700 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-black" placeholder="********" required>
            </div>
            <div class="flex items-center justify-center">
                <button type="submit" class="bg-black hover:bg-gray-800 text-white font-bold py-3 px-6 rounded-full focus:outline-none focus:shadow-outline transition-colors duration-300">
                    Login
                </button>
            </div>
            <p class="text-center text-gray-600 text-sm mt-4">Don't have an account? <a href="#" id="show-signup-link" class="text-black hover:underline font-semibold">Sign up here</a></p>
        </form>
      </div>

    </div>
  </div>


  <section id="cart" class="container mx-auto py-16 hidden">
    <h2 class="text-3xl font-bold text-black text-center mb-10">Your Cart</h2>
    <div id="cart-items" class="space-y-4"></div>
    <p id="cart-total" class="text-xl font-semibold text-black mt-6 text-right"></p>
    <div class="flex justify-end mt-4">
        <button id="checkout-btn" class="bg-black text-white px-6 py-3 rounded-full hover:bg-gray-800 transition hidden">Proceed to Checkout</button>
    </div>
  </section>

  <section id="checkout" class="container mx-auto py-16 hidden">
    <h2 class="text-3xl font-bold text-black text-center mb-10">Checkout</h2>
    <div id="checkout-items" class="space-y-4 mb-6"></div>
    <p id="checkout-total" class="text-xl font-semibold text-black mt-6 text-right"></p>
    <div class="max-w-lg mx-auto mt-8">
      <div class="mb-4">
        <label class="block text-sm font-medium text-black mb-2" for="checkout-full-name">Full Name</label>
        <input type="text" id="checkout-full-name" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black focus:border-transparent" required>
      </div>
      <div class="mb-4">
        <label class="block text-sm font-medium text-black mb-2" for="checkout-email">Email</label>
        <input type="email" id="checkout-email" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black focus:border-transparent" required>
        </div>
      <div class="mb-4">
        <label class="block text-sm font-medium text-black mb-2" for="checkout-city">City</label>
        <select id="checkout-city" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black focus:border-transparent" required>
          <option value="" selected disabled>Select your city...</option> <option value="Cairo">Cairo (50 EGP shipping)</option>
          <option value="Alexandria">Alexandria (60 EGP shipping)</option>
          <option value="Giza">Giza (50 EGP shipping)</option>
          <option value="Luxor">Luxor (80 EGP shipping)</option>
          <option value="Aswan">Aswan (80 EGP shipping)</option>
          <option value="Hurghada">Hurghada (75 EGP shipping)</option>
        </select>
      </div>
      <div class="mb-4">
        <label class="block text-sm font-medium text-black mb-2" for="checkout-street-address">Street Address</label>
        <input type="text" id="checkout-street-address" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black focus:border-transparent" required>
      </div>
      <div class="mb-4">
        <label class="block text-sm font-medium text-black mb-2" for="checkout-additional-details">Additional Address Details (Optional)</label>
        <textarea id="checkout-additional-details" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-black focus:border-transparent"></textarea>
      </div>
      <button id="place-order-btn" class="bg-black text-white px-6 py-3 rounded-full hover:bg-gray-800 transition">Place Order</button>
    </div>
  </section>

  <footer class="bg-black text-white py-6 text-center text-sm mt-auto">
    <div class="container mx-auto px-4">
      <p>© 2025 Sylo. All rights reserved.</p>
    </div>
  </footer>

  <div id="custom-alert-overlay" class="custom-alert-overlay hidden">
    <div class="custom-alert-box">
        <p id="custom-alert-message"></p>
        <button id="custom-alert-ok-btn">OK</button>
    </div>
  </div>


  <script>
    // --- Product Data (Categorized and with Egyptian prices 120-200 EGP) ---
    const productsData = {
        'stainless-steel': [
            { id: 1, name: 'Classic Steel Band', price: 179.99, image: 'images/1.jpg', description: 'Premium stainless steel band for a sophisticated look.' },
            { id: 2, name: 'Milanese Loop', price: 159.99, image: 'images/5.jpg', description: 'Elegant stainless steel mesh for a refined, modern style.' },
            { id: 3, name: 'Heavy Duty Steel', price: 189.99, image: 'images/7.jpg', description: 'Robust steel band for maximum durability.' },
            { id: 4, name: 'Slim Steel Bracelet', price: 164.99, image: 'images/10.jpg', description: 'Thin and comfortable steel bracelet for everyday wear.' },
            { id: 5, name: 'Two-Tone Steel', price: 174.99, image: 'images/12.jpg', description: 'Stylish two-tone steel band with a unique design.' },
        ],
        'stretchable-woven-nylon': [
            { id: 6, name: 'Sport Loop Nylon', price: 139.99, image: 'images/15.jpg', description: 'Lightweight and breathable nylon band for active lifestyles.' },
            { id: 7, name: 'Braided Solo Loop', price: 144.99, image: 'images/16.jpg', description: 'Comfortable braided loop for all-day wear.' },
            { id: 8, name: 'Rainbow Woven Nylon', price: 142.99, image: 'images/18.jpg', description: 'Vibrant rainbow woven nylon band for a playful look.' },
            { id: 9, name: 'Reflective Nylon', price: 145.99, image: 'images/3.jpg', description: 'Nylon band with reflective threads for visibility.' },
            { id: 10, name: 'Adjustable Woven', price: 138.99, image: 'images/19.jpg', description: 'Fully adjustable woven nylon band for a perfect fit.' },
        ],
        'silicon': [
            { id: 11, name: 'Sport Silicone Band', price: 129.99, image: 'images/20.jpg', description: 'Durable and comfortable silicone band for active lifestyles.' },
            { id: 12, name: 'Ventilated Silicone', price: 132.99, image: 'images/21.jpg', description: 'Silicone band with perforations for improved breathability.' },
            { id: 13, name: 'Rugged Silicone', price: 134.99, image: 'images/22.jpg', description: 'Heavy-duty silicone band for outdoor adventures.' },
            { id: 14, name: 'Slim Silicone Strap', price: 128.99, image: 'images/26.jpg', description: 'Thin and lightweight silicone strap for minimalist style.' },
            { id: 15, name: 'Patterned Silicone', price: 130.99, image: 'images/27.jpg', description: 'Silicone band with a subtle pattern for added flair.' },
        ],
        'leather': [
            { id: 16, name: 'Classic Leather Band', price: 149.99, image: 'images/4.jpg', description: 'Premium leather band for a timeless, sophisticated look.' },
            { id: 17, name: 'Vintage Leather', price: 159.99, image: 'images/13.jpg', description: 'Aged leather band for a classic, vintage vibe.' },
            { id: 18, name: 'Modern Buckle Leather', price: 154.99, image: 'images/17.jpg', description: 'Sleek leather band with a modern buckle design.' },
            { id: 19, name: 'Crocodile Grain Leather', price: 165.99, image: 'images/25.jpg', description: 'Luxurious leather band with a crocodile grain texture.' },
            { id: 20, name: 'Perforated Leather', price: 152.99, image: 'images/24.jpg', description: 'Leather band with perforations for a sporty yet elegant feel.' },
        ]
    };

    // Combine all products for "Shop All" view
    const allProductsCombined = Object.values(productsData).flat();

    // Shipping fees based on city (in EGP)
    const shippingFees = {
      "Cairo": 20,
      "Alexandria": 25,
      "Giza": 20,
      "Luxor": 30,
      "Aswan": 35,
      "Hurghada": 30
    };

    // Initialize cart from localStorage or empty array
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // DOM elements
    const productList = document.getElementById('product-list');
    const productCategoryTitle = document.getElementById('product-category-title');
    const noProductsFoundMessage = document.getElementById('no-products-found');
    const cartItems = document.getElementById('cart-items'); // For the main cart section
    const cartItemsOverlay = document.getElementById('cart-items-overlay'); // For the cart overlay
    const cartTotal = document.getElementById('cart-total'); // For the main cart section
    const cartTotalOverlay = document.getElementById('cart-total-overlay'); // For the cart overlay
    const checkoutItems = document.getElementById('checkout-items');
    const checkoutTotal = document.getElementById('checkout-total');
    const checkoutCity = document.getElementById('checkout-city');
    const cartCount = document.getElementById('cart-count');
    const productModal = document.getElementById('product-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalImage = document.getElementById('modal-image');
    const modalPrice = document.getElementById('modal-price');
    const modalDescription = document.getElementById('modal-description');
    const modalSize = document.getElementById('modal-size');
    const addToCartBtn = document.getElementById('add-to-cart');
    const closeModalTopBtn = document.getElementById('close-modal-top');
    const closeModalBottomBtn = document.getElementById('close-modal-bottom');
    const checkoutBtn = document.getElementById('checkout-btn');
    const placeOrderBtn = document.getElementById('place-order-btn');

    // Section elements
    const homeSection = document.getElementById('home');
    const productsSection = document.getElementById('products');
    const aboutSection = document.getElementById('about');
    const contactSection = document.getElementById('contact');
    const cartSection = document.getElementById('cart');
    const checkoutSection = document.getElementById('checkout');
    const policySection = document.getElementById('policy');
    const supportSection = document.getElementById('support');
    const signupModal = document.getElementById('signup-modal'); // Sign Up Modal element

    // Navigation elements
    const syloLogo = document.getElementById('sylo-logo');
    const shopNowBtn = document.getElementById('shop-now-btn');
    const hamburgerMenuToggle = document.getElementById('hamburger-menu-toggle'); // New hamburger icon
    const searchIcon = document.getElementById('search-icon');
    const cartIcon = document.getElementById('cart-icon');
    const signupButtonNav = document.getElementById('signup-button-nav'); // Sign Up button in nav

    // Overlays
    const leftSlideMenuOverlay = document.getElementById('left-slide-menu-overlay');
    const closeLeftMenuBtn = document.getElementById('close-left-menu');
    const searchOverlay = document.getElementById('search-overlay');
    const closeSearchOverlayBtn = document.getElementById('close-search-overlay');
    const overlaySearchBar = document.getElementById('overlay-search-bar');
    const cartOverlay = document.getElementById('cart-overlay');
    const closeCartOverlayBtn = document.getElementById('close-cart-overlay');
    const proceedToCheckoutOverlayBtn = document.getElementById('proceed-to-checkout-overlay-btn');
    const emptyCartMessage = document.getElementById('empty-cart-message');
    const closeSignupModalBtn = document.getElementById('close-signup-modal'); // Close button for Sign Up modal

    // Sign Up/Login Modal specific elements
    const signupModalTitle = document.getElementById('signup-modal-title');
    const signupFormContainer = document.getElementById('signup-form-container');
    const loginFormContainer = document.getElementById('login-form-container');
    const showLoginLink = document.getElementById('show-login-link');
    const showSignupLink = document.getElementById('show-signup-link');

    // Left Slide Menu Products Toggle
    const productsMenuToggleInSlide = document.getElementById('products-menu-toggle-in-slide');
    const productsDropdownInSlide = document.getElementById('products-dropdown-in-slide');


    // Custom Alert Elements
    const customAlertOverlay = document.getElementById('custom-alert-overlay');
    const customAlertMessage = document.getElementById('custom-alert-message');
    const customAlertOkBtn = document.getElementById('custom-alert-ok-btn');

    // Function to show custom alert
    function showCustomAlert(message) {
        customAlertMessage.textContent = message;
        customAlertOverlay.classList.remove('hidden');
    }

    // Event listener for custom alert OK button
    customAlertOkBtn.addEventListener('click', () => {
        customAlertOverlay.classList.add('hidden');
    });

    // --- Overlay Toggle Functions ---
    function toggleLeftSlideMenu() {
        leftSlideMenuOverlay.classList.toggle('open');
        document.body.style.overflow = leftSlideMenuOverlay.classList.contains('open') ? 'hidden' : 'auto';
    }

    function toggleSearchOverlay() {
        searchOverlay.classList.toggle('open');
        document.body.style.overflow = searchOverlay.classList.contains('open') ? 'hidden' : 'auto';
        if (searchOverlay.classList.contains('open')) {
            overlaySearchBar.focus(); // Focus on the search bar when it opens
        }
    }

    function toggleCartOverlay() {
        cartOverlay.classList.toggle('open');
        document.body.style.overflow = cartOverlay.classList.contains('open') ? 'hidden' : 'auto';
        updateCartDisplayOverlay(); // Update cart content when opening
    }

    function toggleSignupModal() {
        signupModal.classList.toggle('open');
        signupModal.classList.toggle('hidden'); // Toggle hidden class for visibility
        document.body.style.overflow = signupModal.classList.contains('open') ? 'hidden' : 'auto';
        // Ensure signup form is shown by default when modal opens
        showSignupForm();
    }

    function showSignupForm() {
        signupModalTitle.textContent = 'Join Our Community!';
        signupFormContainer.classList.remove('hidden');
        loginFormContainer.classList.add('hidden');
    }

    function showLoginForm() {
        signupModalTitle.textContent = 'Welcome Back!';
        signupFormContainer.classList.add('hidden');
        loginFormContainer.classList.remove('hidden');
    }

    // --- Event Listeners for Overlays ---
    hamburgerMenuToggle.addEventListener('click', toggleLeftSlideMenu);
    closeLeftMenuBtn.addEventListener('click', toggleLeftSlideMenu);
    searchIcon.addEventListener('click', toggleSearchOverlay);
    closeSearchOverlayBtn.addEventListener('click', toggleSearchOverlay);
    cartIcon.addEventListener('click', toggleCartOverlay);
    closeCartOverlayBtn.addEventListener('click', toggleCartOverlay);
    signupButtonNav.addEventListener('click', toggleSignupModal); // Open Sign Up modal
    closeSignupModalBtn.addEventListener('click', toggleSignupModal); // Close Sign Up modal
    showLoginLink.addEventListener('click', (e) => { e.preventDefault(); showLoginForm(); });
    showSignupLink.addEventListener('click', (e) => { e.preventDefault(); showSignupForm(); });


    // Close overlays if clicked outside (on the dark background)
    leftSlideMenuOverlay.addEventListener('click', (event) => {
        if (event.target === leftSlideMenuOverlay) {
            toggleLeftSlideMenu();
        }
    });
    searchOverlay.addEventListener('click', (event) => {
        if (event.target === searchOverlay) {
            toggleSearchOverlay();
        }
    });
    cartOverlay.addEventListener('click', (event) => {
        if (event.target === cartOverlay) {
            toggleCartOverlay();
        }
    });
    signupModal.addEventListener('click', (event) => {
        if (event.target === signupModal) {
            toggleSignupModal();
        }
    });


    // --- Product Display Logic ---
    function formatCategoryName(name) {
        return name.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
    }

    function displayProducts(category = 'all', query = '') { // Default to 'all' products
      productList.innerHTML = ''; // Clear previous products
      noProductsFoundMessage.classList.add('hidden'); // Hide 'no products' message initially

      let productsToDisplay = [];
      if (category === 'all') {
          productsToDisplay = allProductsCombined;
          productCategoryTitle.textContent = 'All Products';
      } else if (productsData[category]) {
          productsToDisplay = productsData[category];
          productCategoryTitle.textContent = formatCategoryName(category) + ' Collection';
      } else {
          // Fallback if an invalid category is passed
          productsToDisplay = allProductsCombined;
          productCategoryTitle.textContent = 'All Products';
      }

      // Apply search query filter if present
      const filteredByQuery = productsToDisplay.filter(product =>
        product.name.toLowerCase().includes(query.toLowerCase()) ||
        product.description.toLowerCase().includes(query.toLowerCase())
      );

      if (filteredByQuery.length === 0) {
        noProductsFoundMessage.classList.remove('hidden');
      } else {
        filteredByQuery.forEach(product => {
          const productCard = document.createElement('div');
          productCard.className = 'product-card bg-white rounded-lg shadow-md p-4 cursor-pointer flex flex-col justify-between';
          productCard.innerHTML = `
            <div>
              <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover rounded mb-4" onerror="this.onerror=null;this.src='https://placehold.co/300x200/E2E8F0/AAAAAA?text=Image+Not+Available';">
              <h3 class="text-xl font-semibold text-black">${product.name}</h3>
            </div>
            <p class="text-gray-600 mt-2">EGP ${product.price.toFixed(2)}</p>
          `;
          productCard.addEventListener('click', () => showProductDetails(product));
          productList.appendChild(productCard);
        });
      }
    }

    // Event listener for search bar input in overlay
    overlaySearchBar.addEventListener('input', (e) => {
      // When typing in search, automatically navigate to products section if not already there
      if (productsSection.classList.contains('hidden')) {
        showSection('products');
      }
      // Get the currently displayed category to filter within it
      // This logic needs to be careful if 'All Products' is currently displayed
      const currentCategoryTitle = productCategoryTitle.textContent;
      let currentCategory = 'all'; // Default to all if title is 'All Products' or unknown
      if (currentCategoryTitle.includes('Collection')) {
          currentCategory = currentCategoryTitle.replace(' Collection', '').toLowerCase().replace(/ /g, '-');
      }
      displayProducts(currentCategory, e.target.value);
    });


    // Show product details in modal
    function showProductDetails(product) {
      modalTitle.textContent = product.name;
      modalImage.src = product.image;
      modalPrice.textContent = `EGP ${product.price.toFixed(2)}`;
      modalDescription.textContent = product.description;
      productModal.classList.remove('hidden');
      productModal.classList.add('show');
      document.body.style.overflow = 'hidden'; // Disable body scroll


      addToCartBtn.onclick = () => { // Re-assign onclick to ensure correct product context
        addToCart(product, modalSize.value);
        closeModal();
      };
    }

    // Function to close the modal
    function closeModal() {
        productModal.classList.add('hidden');
        productModal.classList.remove('show');
        document.body.style.overflow = 'auto'; // Re-enable body scroll
    }

    // Add product to cart
    function addToCart(product, size) {
      const cartItem = { ...product, size, quantity: 1 };
      const existingItem = cart.find(item => item.id === product.id && item.size === size);
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push(cartItem);
      }
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCart(); // Update main cart section
      updateCartDisplayOverlay(); // Update cart overlay
      showCustomAlert(`${product.name} (${size}) added to cart!`);
    }

    // Update cart display for main cart section
    function updateCart() {
      cartItems.innerHTML = '';
      let total = 0;
      if (cart.length === 0) {
        cartItems.innerHTML = '<p class="text-gray-600 text-center">Your cart is empty.</p>';
        cartTotal.textContent = ''; // Clear total if cart is empty
        checkoutBtn.classList.add('hidden'); // Hide checkout button if cart is empty
      } else {
        checkoutBtn.classList.remove('hidden'); // Show checkout button if cart has items
        cart.forEach((item, index) => {
          total += item.price * item.quantity;
          const cartItem = document.createElement('div');
          cartItem.className = 'flex justify-between items-center bg-white p-4 rounded-lg shadow';
          cartItem.innerHTML = `
            <div class="flex-grow">
              <h3 class="text-lg font-semibold text-black">${item.name} (${item.size})</h3>
              <p class="text-gray-600">EGP ${item.price.toFixed(2)} x ${item.quantity}</p>
            </div>
            <button class="text-red-500 hover:text-red-700 font-semibold ml-4 px-3 py-1 rounded-md border border-red-500 hover:bg-red-50 transition-colors" onclick="removeFromCart(${index})">Remove</button>
          `;
          cartItems.appendChild(cartItem);
        });
        cartTotal.textContent = `Total (excluding shipping): EGP ${total.toFixed(2)}`;
      }
      cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
    }

    // Update cart display for the cart overlay
    function updateCartDisplayOverlay() {
        cartItemsOverlay.innerHTML = ''; // Clear existing items
        let total = 0;

        if (cart.length === 0) {
            emptyCartMessage.classList.remove('hidden');
        } else {
            emptyCartMessage.classList.add('hidden');
            cart.forEach((item, index) => {
                const itemElement = document.createElement('div');
                itemElement.className = 'flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0';
                itemElement.innerHTML = `
                    <div>
                        <p class="font-semibold">${item.name}</p>
                        <p class="text-sm text-gray-500">EGP ${item.price.toFixed(2)} x ${item.quantity}</p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button class="remove-from-cart-overlay-btn text-red-500 hover:text-red-700 text-lg" data-index="${index}">&times;</button>
                    </div>
                `;
                cartItemsOverlay.appendChild(itemElement);
                total += item.price * item.quantity;
            });
        }
        cartTotalOverlay.textContent = `EGP ${total.toFixed(2)}`;
        cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);

        // Add event listeners for remove buttons in overlay
        document.querySelectorAll('.remove-from-cart-overlay-btn').forEach(button => {
            button.addEventListener('click', (event) => {
                const indexToRemove = parseInt(event.target.dataset.index);
                removeFromCart(indexToRemove);
            });
        });
    }


    // Remove item from cart
    function removeFromCart(index) {
      const item = cart[index];
      cart.splice(index, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCart(); // Update main cart section
      updateCartDisplayOverlay(); // Update cart overlay
      showCustomAlert(`${item.name} (${item.size}) removed from cart.`);
    }

    // Navigation: Show/hide sections
    function showSection(sectionId) {
      // Hide all sections first
      [homeSection, productsSection, aboutSection, contactSection, cartSection, checkoutSection, policySection, supportSection].forEach(section => {
        if (section) section.classList.add('hidden');
      });
      // Show the target section
      const targetSection = document.getElementById(sectionId);
      if (targetSection) {
        targetSection.classList.remove('hidden');
        // Scroll to the top of the newly shown section for better UX, considering the fixed navbar.
        const navbarHeight = document.querySelector('nav').offsetHeight;
        const sectionTop = targetSection.getBoundingClientRect().top + window.pageYOffset - navbarHeight;
        window.scrollTo({ top: sectionTop, behavior: 'smooth' });
      }

      // Close any open overlays/modals when navigating to a section
      leftSlideMenuOverlay.classList.remove('open');
      searchOverlay.classList.remove('open');
      cartOverlay.classList.remove('open');
      signupModal.classList.remove('open');
      signupModal.classList.add('hidden'); // Ensure hidden class is also added
      document.body.style.overflow = 'auto'; // Re-enable body scroll

      // If navigating to products, ensure search bar is cleared and a default category is shown
      if (sectionId === 'products') {
        overlaySearchBar.value = ''; // Clear overlay search bar
        // displayProducts('stainless-steel'); // This is now handled by the menu click
      }
    }


    // Navigation link handlers for nav links in the left slide menu
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const sectionId = link.getAttribute('href').substring(1);
        showSection(sectionId);
      });
    });

    // Sylo Logo click to home
    syloLogo.addEventListener('click', (e) => {
        e.preventDefault();
        showSection('home');
    });

    // Explicitly handle Shop All button click
    shopNowBtn.addEventListener('click', (e) => {
      e.preventDefault();
      displayProducts('all'); // Show all products
      showSection('products');
    });

    // Handle individual product category links (inside left slide menu)
    document.querySelectorAll('.product-category-link').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const category = e.target.dataset.category;
            displayProducts(category); // Display specific category products
            showSection('products'); // Navigate to products section
            toggleLeftSlideMenu(); // Close left menu
        });
    });

    // Handle "Products" toggle in left slide menu (to expand/collapse ONLY)
    productsMenuToggleInSlide.addEventListener('click', (e) => {
        e.preventDefault();
        productsDropdownInSlide.classList.toggle('active');
        productsMenuToggleInSlide.querySelector('i').classList.toggle('rotate-180'); // Rotate arrow icon
        // Removed the displayProducts('all') and showSection('products') calls from here
    });


    // Show checkout section with shipping fee
    checkoutBtn.addEventListener('click', () => {
      showSection('checkout'); // Use showSection for consistency
      checkoutItems.innerHTML = '';
      let subtotal = 0;
      cart.forEach(item => {
        subtotal += item.price * item.quantity;
        const checkoutItem = document.createElement('div');
        checkoutItem.className = 'flex justify-between bg-white p-4 rounded-lg shadow';
        checkoutItem.innerHTML = `
          <div>
            <h3 class="text-lg font-semibold text-black">${item.name} (${item.size})</h3>
            <p class="text-gray-600">EGP ${item.price.toFixed(2)} x ${item.quantity}</p>
          </div>
        `;
        checkoutItems.appendChild(checkoutItem);
      });
      // Update total with shipping fee based on selected city
      const selectedCity = checkoutCity.value;
      const shippingFee = shippingFees[selectedCity] || 0; // Default to 0 if no city selected initially
      const total = subtotal + shippingFee;
      checkoutTotal.textContent = `Subtotal: EGP ${subtotal.toFixed(2)} | Shipping: ${shippingFee.toFixed(2)} EGP | Total: EGP ${total.toFixed(2)}`;
    });

    // Handle checkout from overlay
    proceedToCheckoutOverlayBtn.addEventListener('click', () => {
        toggleCartOverlay(); // Close cart overlay
        showSection('checkout'); // Navigate to checkout section
    });


    // Update checkout total when city changes
    checkoutCity.addEventListener('change', () => {
      let subtotal = 0;
      cart.forEach(item => {
        subtotal += item.price * item.quantity;
      });
      const selectedCity = checkoutCity.value;
      const shippingFee = shippingFees[selectedCity] || 0;
      const total = subtotal + shippingFee;
      checkoutTotal.textContent = `Subtotal: EGP ${subtotal.toFixed(2)} | Shipping: ${shippingFee.toFixed(2)} EGP | Total: EGP ${total.toFixed(2)}`;
    });

    // Handle checkout form submission
    placeOrderBtn.addEventListener('click', (e) => {
      e.preventDefault(); // Prevent default form submission

      const fullNameInput = document.getElementById('checkout-full-name');
      const emailInput = document.getElementById('checkout-email');
      const streetAddressInput = document.getElementById('checkout-street-address');
      const citySelect = document.getElementById('checkout-city');

      // Basic validation checks for checkout form
      if (!fullNameInput.value.trim()) {
        showCustomAlert('Please enter your full name.');
        fullNameInput.focus();
        return;
      }

      if (!emailInput.value.trim()) {
        showCustomAlert('Please enter your email address.');
        emailInput.focus();
        return;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(emailInput.value.trim())) {
        showCustomAlert('Please enter a valid email address.');
        emailInput.focus();
        return;
      }

      if (citySelect.value === "" || citySelect.value === "Select your city...") {
        showCustomAlert('Please select a city.');
        citySelect.focus();
        return;
      }

      if (!streetAddressInput.value.trim()) {
        showCustomAlert('Please enter your street address.');
        streetAddressInput.focus();
        return;
      }

      // If all validations pass
      showCustomAlert('Order placed successfully! Thank you for shopping with Sylo.');
      cart = [];
      localStorage.setItem('cart', JSON.stringify(cart));
      showSection('home');
      updateCart(); // Update cart display (e.g., cart count in nav)
      updateCartDisplayOverlay(); // Update cart overlay
      // Reset checkout form fields
      fullNameInput.value = '';
      emailInput.value = '';
      citySelect.value = '';
      streetAddressInput.value = '';
      document.getElementById('checkout-additional-details').value = '';
      checkoutTotal.textContent = ''; // Clear checkout total display
    });


    // Close product modal listeners
    closeModalTopBtn.addEventListener('click', closeModal);
    closeModalBottomBtn.addEventListener('click', closeModal);
    // Also close modal if user clicks outside of it (on the overlay)
    productModal.addEventListener('click', (event) => {
        if (event.target === productModal) {
            closeModal();
        }
    });

    // --- Form Validations ---
    const signupForm = document.getElementById('signup-form');
    const signupNameInput = document.getElementById('signup-name');
    const signupEmailInput = document.getElementById('signup-email');
    const signupPasswordInput = document.getElementById('signup-password');

    signupForm.addEventListener('submit', function(event) {
        event.preventDefault();
        let isValid = true;

        if (signupNameInput.value.trim() === '') {
            showCustomAlert('Please enter your name for sign up.');
            signupNameInput.focus();
            isValid = false;
        } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(signupEmailInput.value.trim())) {
            showCustomAlert('Please enter a valid email address for sign up.');
            signupEmailInput.focus();
            isValid = false;
        } else if (signupPasswordInput.value.length < 6) {
            showCustomAlert('Password must be at least 6 characters for sign up.');
            signupPasswordInput.focus();
            isValid = false;
        }

        if (isValid) {
            console.log('Sign Up Form Submitted:', {
                name: signupNameInput.value,
                email: signupEmailInput.value,
                password: signupPasswordInput.value // In a real app, hash this before sending!
            });
            showCustomAlert('Thank you for signing up!');
            signupForm.reset();
            toggleSignupModal(); // Close modal after successful signup
        }
    });

    const loginForm = document.getElementById('login-form');
    const loginEmailInput = document.getElementById('login-email');
    const loginPasswordInput = document.getElementById('login-password');

    loginForm.addEventListener('submit', function(event) {
        event.preventDefault();
        let isValid = true;

        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(loginEmailInput.value.trim())) {
            showCustomAlert('Please enter a valid email address for login.');
            loginEmailInput.focus();
            isValid = false;
        } else if (loginPasswordInput.value.length === 0) { // Simple check for password presence
            showCustomAlert('Please enter your password for login.');
            loginPasswordInput.focus();
            isValid = false;
        }

        if (isValid) {
            // This is a client-side simulation. In a real app, you'd send these credentials to your PHP backend.
            console.log('Login Form Submitted:', {
                email: loginEmailInput.value,
                password: loginPasswordInput.value // In a real app, send securely (e.g., hashed)
            });
            showCustomAlert('Login successful! Welcome back!');
            loginForm.reset();
            toggleSignupModal(); // Close modal after successful login
            // You might want to update UI to show "Logged In" state here
        }
    });


    const contactForm = document.getElementById('contact-form');
    const contactNameInput = document.getElementById('contact-name');
    const contactEmailInput = document.getElementById('contact-email');
    const contactMessageInput = document.getElementById('contact-message');

    contactForm.addEventListener('submit', function(event) {
        // Formspree handles the actual submission, we just validate client-side
        let isValid = true;

        if (contactNameInput.value.trim() === '') {
            showCustomAlert('Please enter your name for contact form.');
            contactNameInput.focus();
            isValid = false;
        } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(contactEmailInput.value.trim())) {
            showCustomAlert('Please enter a valid email address for contact form.');
            contactEmailInput.focus();
            isValid = false;
        } else if (contactMessageInput.value.trim() === '') {
            showCustomAlert('Please enter your message for contact form.');
            contactMessageInput.focus();
            isValid = false;
        }

        if (!isValid) {
            event.preventDefault(); // Prevent Formspree submission if validation fails
            console.log('Contact form validation failed. Preventing submission.');
        } else {
            console.log('Contact form validation passed. Allowing Formspree submission.');
            // If valid, Formspree will handle it. Show success message after a short delay.
            // This is a client-side indication, Formspree will send its own confirmation.
            setTimeout(() => {
                showCustomAlert('Your message has been sent!');
                contactForm.reset();
            }, 100); // Small delay to allow Formspree to potentially start
        }
    });


    const supportForm = document.getElementById('support-form');
    const supportNameInput = document.getElementById('support-name');
    const supportEmailInput = document.getElementById('support-email');
    const supportMessageInput = document.getElementById('support-message');

    supportForm.addEventListener('submit', function(event) {
        event.preventDefault();
        let isValid = true;

        if (supportNameInput.value.trim() === '') {
            showCustomAlert('Please enter your name for support request.');
            supportNameInput.focus();
            isValid = false;
        } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(supportEmailInput.value.trim())) {
            showCustomAlert('Please enter a valid email address for support request.');
            supportEmailInput.focus();
            isValid = false;
        } else if (supportMessageInput.value.trim() === '') {
            showCustomAlert('Please enter your message for support request.');
            supportMessageInput.focus();
            isValid = false;
        }

        if (isValid) {
            console.log('Support Form Submitted:', {
                name: supportNameInput.value,
                email: supportEmailInput.value,
                message: supportMessageInput.value
            });
            showCustomAlert('Your support request has been submitted!');
            supportForm.reset();
        }
    });


    // Initialize the page
    displayProducts('all'); // Display all products initially
    updateCart(); // Update main cart display
    updateCartDisplayOverlay(); // Update cart overlay display
    showSection('home'); // Ensure home section is shown on load

    // Add fallback for images
    document.addEventListener('error', function (event) {
        if (event.target.tagName.toLowerCase() === 'img') {
            event.target.src = 'https://placehold.co/300x200/E2E8F0/AAAAAA?text=Image+Error';
        }
    }, true);

  </script>
</body>
</html>
